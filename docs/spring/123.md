- [Spring 的 bean 是单例的吗？](#spring-的-bean-是单例的吗)
- [Spring 的 bean 是线程安全的吗？](#spring-的-bean-是线程安全的吗)
- [AOP](#aop)
- [spring 事务是如何实现的](#spring-事务是如何实现的)
- [spring 事务失效](#spring-事务失效)
- [Spring 的 bean 的生命周期](#spring-的-bean-的生命周期)
- [Spring 的 bean 循环依赖](#spring-的-bean-循环依赖)
- [Springboot 的自动配置原理](#springboot-的自动配置原理)
- [Spring 框架常用注解](#spring-框架常用注解)
- [Springmvc 流程](#springmvc-流程)
- [mybatis 执行流程](#mybatis-执行流程)
- [mybatis 延迟加载](#mybatis-延迟加载)
- [mybatis 延迟加载原理](#mybatis-延迟加载原理)
- [mybatis 缓存](#mybatis-缓存)


---

## Spring 的 bean 是单例的吗？

默认是单例的 `@Scope("singleton")`。除非 `@Scope("prototype")` 让一个 bean 可以有多个实例。

## Spring 的 bean 是线程安全的吗？

不是。

但

![](../../images/ATCYbkRWmoHIb7xO3ufcj3GAnze.png)

成员变量有线程安全问题，局部变量没有。

![](../../images/GY8rb29hporZSSxhLUucYufLn0d.png)

## AOP

![](../../images/OHL7bZw15oaixYxkK9hcGZETnPh.png)

自定义注解

获取请求方法的类、方法、注解、request(请求方式、url、ip)

![](../../images/O6QsbpLnnoItEqxW4vsccjTbnLd.png)

![](../../images/Id8ubMuLJorbO2xVx9PcCZw2nud.png)

![](../../images/NHClbTiGHoNtCWxWz3GcK5W0nUc.png)

## spring 事务是如何实现的

![](../../images/IHpEbXPmIo7wTixdZCZcLtVcnLd.png)

## spring 事务失效

![](../../images/ZrZRb6Vx9oiK7uxwqbMcaEZ4nFU.png)

![](../../images/Glosb7QIroawEnxe6L7ck0pYnvd.png)

![](../../images/AvaibUIeyoPQiTxQ8Afc2Hspnkf.png)

![](../../images/VB8FbBKZQoCGl4xBVVQc4h4onGf.png)

![](../../images/Wnl9bHpFyoO4elxRxGEcCOgCnGg.png)

## Spring 的 bean 的生命周期

![](../../images/Xbvsbe6VKo6vn6x1wVAcPT6nn1b.png)

![](../../images/U0Q0b21eFoRgjrxuYuRcFt3lnX4.png)

![](../../images/DpyCbLT79oXypixESsIcVf5hndh.png)

![](../../images/VafBbyIt9o5GZMxwC88csDHjnwf.png)

![](../../images/ELaabYOiio3ZPAxOkv8cIFCinJA.png)

![](../../images/Rm8cbL4rdooezixi0J7cu1dfnDZ.png)

![](../../images/NIpmbuWkBolzrtxgpJVcfYbwnWf.png)

![](../../images/LUWCbahJjoh5zhx23W4cwdI8ndb.png)

![](../../images/Or5PbMK1uo9Ttfxby1ncJ20gnte.png)

[https://blog.csdn.net/skh2015java/article/details/117751380](https://blog.csdn.net/skh2015java/article/details/117751380) @PostConstruct

## Spring 的 bean 循环依赖

![](../../images/I7zUbWYFxoAAMNxGcV5chSkJnag.png)

![](../../images/KRWubYexpogD4Tx9P0dc3GmnnZe.png)

一级缓存不行。

二级缓存：可以解决一般对象，不能解决代理对象。

三级缓存：可以解决一般对象和代理对象。

![](../../images/KaGbbLxh9oMaocxK4Alckkp7ny1.png)

![](../../images/MfZcbrr0poH5zlxGIlXclElNnxc.png)

![](../../images/CJ3PbgjmloTJv3xG1wbcIMzmnEc.png)

![](../../images/VuxZb1NOzovP2bxsEZLcNtUrn0c.png)

## Springboot 的自动配置原理

![](../../images/L8sxbrJPVo4asexJdOkcIlh4nPf.png)

![](../../images/Fu2wbg4qfovKU9x4c5ccfMcMnnd.png)

![](../../images/KSrXbyc31oLXq8xMWsscF9m4nhb.png)

## Spring 框架常用注解

spring：描述 bean 的、配置、AOP

springmvc：描述请求

springboot：`@SpringBootApplication`

![](../../images/F1ZBbP8dnoC2PwxSDnecgCxtnfd.png)

![](../../images/T6vWbd852oduesx9paXck5AJn3b.png)

![](../../images/EEuObSYReoQ6QJxdK6Ec47Kqnxc.png)

## Springmvc 流程

![](../../images/BAXhbwjADocZWSx7oEucmxDmnte.png)

![](../../images/YHmMbaxr4oBOdAx45lAcLpgwnOd.png)

![](../../images/IPTRb1EfOoqYzdxuKtPcMKSTnme.png)

![](../../images/JIcXb7E14oY4tsxXXfdc61cbnFh.png)

## mybatis 执行流程

![](../../images/CQtyb13qho5HTFxwgpxcG7F4nyc.png)

![](../../images/AZzib2ukUoWhZpxJaa6cT9B0nmg.png)

mybatis-config.xml

![](../../images/BsA3bbMiRo7VmCxURJkcwNX7n7d.png)

## mybatis 延迟加载

![](../../images/UaVqbd6MGoTwR2xdzXoc71bPnKg.png)

![](../../images/QbgpbR5bYomRt3x099Bcn2atn5c.png)

![](../../images/CWWDbT2kao0AdUxBgoocfxrOnDd.png)

![](../../images/OT9HbTkkFocJc0xj5r8cv5Mynne.png)

![](../../images/UlQlbjWsboXQjuxSPTxc1YY5nJf.png)

![](../../images/O0Vwbzj2uogRUGxKLYjcZlfincy.png)

![](../../images/QhQVb9Jh2oN5TixiOLxcW2HFnOd.png)

![](../../images/RrRSbLBgLoqe0WxaKzncgdEsnHg.png)

![](../../images/PC89bqEvjoZJikxgVetcqwE1nlc.png)

## mybatis 延迟加载原理

![](../../images/I5ACblBjQo06HaxoTaTcdFzKn7c.png)

## mybatis 缓存

- 一级缓存默认是打开的，二级缓存需要手动开启。
- 一级缓存和二级缓存都是基于本地缓存 PerpetualCache，本质是一个 HashMap
- 一级缓存的作用域是 session，当 session 的 flush 或 close 时，该 session 中的缓存就会被清空；二级缓存的作用域是 namespace 和 mapper，不依赖于 session

![](../../images/MsIPbufcco3oPUx2l8BcIJlnnXe.png)

![](../../images/NcmxbzMa6oe6VaxcTCbcIgj5nzb.png)

![](../../images/RfIibaZpEobqUDx5Nescg0alnqe.png)

![](../../images/KUEMbUmNeoC4BTxsfOXcNfkJn5c.png)

![](../../images/UBO8bKfYDoFYJWxaI0ccwd0LnGN.png)

![](../../images/JYeibA9Rdo3wkoxEQqAcrR6InJc.png)
