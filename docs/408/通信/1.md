## 1. OSI 七层模型是什么？

- 物理层（RJ45)：透明地址传送比特流
- 数据链路层(mac)：帧编码和误差纠正控制
- 网络层(ip)：路由和寻址
- 传输层(tcp)：为两台主机进程之间的通信提供数据传输服务
- 会话层(session)：管理应用程序之间的会话
- 表示层(html)：数据处理
- 应用层：为计算机用户提供服务

## 2. TCP/IP 四层模型是什么？

- 物理链路层
- 网络层
- 传输层
- 应用层

PS：下两层合并, 上三层合并。

## 五层模型

五层模型用于教学，TCP/IP将底层抽象化了，而理解点对点传输对整个传输过程非常重要，比如，802.3，802.11协议簇（以太网、Wi-Fi）也与TCP/IP有着千丝万缕相辅相成的关系。

所以，将OSI模型和TCP/IP四层模型各自的优点相结合，提出了五层网络模型（即TCP/IP五层模型），它包括了物理层、数据链路层、网络层、传输层和应用层五个层次，更适合现代计算机网络的描述与分析。


## TCP和UDP的区别

## TCP三次握手、四次挥手

当客户端要向服务端发送数据时，需要先建立TCP连接，这个过程被称为“三次握手”。TCP连接的释放需要四次挥手来完成。

三次握手的过程如下：

- 客户端向服务端发送SYN报文，表示客户端请求建立连接。
- 服务端接收到SYN报文后，向客户端发送SYN+ACK报文，表示服务端已经收到请求，并同意建立连接。
- 客户端接收到服务端的SYN+ACK报文后，向服务端发送ACK报文，表示客户端已经收到服务端的确认，连接建立完成。

四次挥手的过程如下：

- 客户端发送FIN报文，表示客户端不再发送数据，请求断开连接。
- 服务端接收到FIN报文后，向客户端发送ACK报文，表示服务端已经接收到客户端的请求，并准备好断开连接。
- 服务端发送FIN报文，表示服务端不再发送数据，请求断开连接。
- 客户端接收到服务端的FIN报文后，向服务端发送ACK报文，表示客户端已经接收到服务端的请求，并断开连接。

需要注意的是，在四次挥手完成后，TCP连接就被彻底关闭了，双方不能再进行数据传输。


## 为什么第四次挥手和第二次挥手不能合并确保数据能够完整传输

按照常理的话，第二次和第三次挥手应该一起回复FIN=1和ACK=1的，但是因为服务器端可能有数据没发完，所以不能也立刻去主动申请关闭，所以要把ACK和FIN分开，再发送FIN报文给主动方，告诉主动方同意关闭连接，所以这里的ACK报文和FIN报文多数情况下都是分开发送的。

## 那四次挥手的服务端不是会有个ack吗？然后再发一个释放连接，那这两次可以合并吗？就是确认报文和释放连接可以同时发送吗？

不可以。因为ACK报文和FIN报文的作用是不同的。ACK报文用于确认客户端发送的FIN报文已经被正确接收，而FIN报文则用于通知客户端服务端已经准备好释放连接。在这两个报文中，ACK报文是必须的，因为客户端需要收到服务端的确认才能确定服务端已经接收到了自己发送的FIN报文。因此，这两个报文不能合并成一个发送。

## tcp怎么保证可靠传输？
-   序号和确认号：TCP通过序号和确认号来保证数据的可靠传输。发送方将每个数据报文都标记一个唯一的序号，接收方收到数据后需要回复一个确认号，表示已经成功接收到了这个数据。
-   超时重传：发送方在发送数据后会设置一个计时器，如果在规定的时间内没有收到确认，则会重新发送数据。这可以保证即使某个数据包在传输过程中丢失，也能够被及时地重传。
-   滑动窗口：TCP通过滑动窗口机制来控制发送方和接收方的数据发送和接收速率。发送方通过滑动窗口机制来控制发送数据的数量和速度，接收方则通过滑动窗口机制来控制接收数据的数量和速度。
-   确认机制：TCP通过确认机制来确保数据的可靠传输。发送方将每个数据报文都标记一个唯一的序号，接收方收到数据后需要回复一个确认号，表示已经成功接收到了这个数据。
-   拥塞控制：TCP通过拥塞控制机制来避免网络拥塞。发送方会根据网络状况和接收方的反馈来调整数据发送的速率，以避免网络拥塞。
## 有其他方法，其他层上的方式保证它可靠吗？比如说在报文上是不是会有些检验之类的

除了TCP本身提供的可靠传输机制之外，还有其他层上的方式可以保证数据的可靠传输。比如在数据链路层和物理层上，常用的技术包括循环冗余校验（CRC）、帧检验序列（FCS）等，用于检测和纠正数据传输中的错误。

在应用层上，常用的方法包括数据重传、数据校验等。例如，HTTP协议通常会在应用层上进行数据重传，以保证数据的可靠传输。另外，应用层协议也可以使用一些校验算法，如MD5、SHA等，来验证数据的完整性，以保证数据在传输过程中不被篡改。

总之，在不同层次上都可以采用不同的技术和机制来保证数据的可靠传输，这些机制相互配合，共同保障了数据的安全和可靠性。

## 对于TCP和UDP来说，说一下对于“网络通信不可靠”这句话的理解