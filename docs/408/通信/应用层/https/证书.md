# 数字证书的内容

主要包含了：

- 持有者的公钥
- 持有者的信息；
- 证书颁发者的信息；
- 证书的数字签名 certificate signature；
- 证书的有效期



# 证书的签发和验证过程

签发：

​	1、将证书的内容（除了数字签名）等信息打包，然后对这些信息进行 Hash 计算

​	2、CA 会使用CA私钥将得到的 Hash 值加密，生成数字签名

​	3、最后将 数字签名 添加在文件证书上，形成数字证书



验证：

​	1、客户端使用同样的 Hash 算法获取该证书的 Hash 值 H1

​	2、浏览器和操作系统已预先集成了 CA 公钥，客户端收到证书后使用 CA 公钥解密 数字签名 内容，得到一个 Hash 值 H2 

​	3、比较 H1 和 H2，如果值相同，则为可信赖的证书，否则则认为证书不可信



![image-20240611170529389](https://cdn.jsdelivr.net/gh/sword4869/pic1@main/images/202406111705437.png)

# 小问题

数字证书的作用：

​	数字证书是用来认证公钥持有者的身份（服务器的身份），以防止第三方进行冒充。



数字证书为什么要签名：

​	签名的作用可以避免中间人在获取证书时对证书内容的篡改