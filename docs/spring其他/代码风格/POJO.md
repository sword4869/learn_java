## 名词解释

**POJO（Plain Old Java Object）**：它是一个普通的 Java 对象，没有任何特殊的限制和要求

**JavaBeans**：JavaBeans 是  POJO + 一定规范（具有无参构造函数、属性用 get/set 方法封装、可序列化）

**DTO（Data Transfer Object，数据传输对象）**：用于**表现层和服务层**之间传递数据。

目的是，通过在单个调用中包含多个参数或值，这有助于减少调用的方法数量、远程操作中的网络开销。

将一个或多个Entity中的某些信息封装为DTO。



展示层向服务层传递的DTO与服务层返回给展示层的DTO。

​	在概念上是不同的，但在实现层面，我们通常很少会定义两个UserInfo，我们完全可以设计一个完全兼容的DTO。

​	在服务层接收数据的时候，不该由展示层设置的属性（如订单的总价应该由其单价、数量、折扣等决定），无论展示层是否设置，服务层都一概忽略；

​	而在服务层返回数据时，不该返回的数据（如用户密码），就不设置对应的属性。



**VO（Value/View Object，值/视图对象）**：用于**展示层和客户端**之间传递数据。

展示层将DTO传送过来男性显示成帅哥（客户端1），或者显示成靓仔（客户端2）。以DTO形式请求服务端。

视图模型的解耦。

​	如果是一个DTO对应一个VO，则DTO=VO;

​	但是如果多个VO对应一个DTO，则展示层需要把VO转换为服务层对应方法所要求的DTO，传送给服务层。从而达到服务层与展示层解耦的效果。

​	



**PO（Persistant Object, 持久对象）/ Entity**: 数据库中的记录，一个PO的数据结构对应着库中表的结构。除了get，set之外没有别的方法。



**BO（Business Object, 业务对象）**

BO是一个业务对象，一类业务就会对应一个BO，数量上没有限制。而且BO会有很多业务操作，也就是说除了PO对象的get，set方法以外，BO会有很多针对自身数据进行计算的方法。
现在很多持久层框架自身就提供了数据组合的功能，因此BO有可能是在业务层由业务来拼装PO而成，也有可能是在数据库访问层由框架直接生成。
很多情况下为了追求查询的效率，框架跳过PO直接生成BO的情况非常普遍，PO只是用来增删改使用。

```plaintext
注：PO-1是交易记录对象，PO-2是登录记录对象，PO-3是商品浏览记录对象，PO-4是添加购物车记录对象，PO-5是搜索记录对象。
BO是个人网站行为对象，BO对象：{PO-1;PO-2;PO-3;PO-4;PO-5}。
这样做的优点不言而喻，维护代码的时候查看BO，就能知道这块逻辑涉及多少表（PO）。
```

BO和DTO有重叠功能，一样可以对PO进行排列组合，那BO的存在的意义是什么呢？

从用途上进行根本的区别，BO是业务对象，DTO是数据传输对象。虽然BO也可以排列组合数据，但它的功能是对内的，比如上个例子中的BO对象包括{PO-1;PO-2;PO-3;PO-4;PO-5}还有其他字段属性，但在提供对外接口时**，BO对象中的某些属性对象可能用不到或者不方便对外暴露**，那么此时DTO只需要在BO的基础上，抽取自己需要的数据，然后对外提供。

**DO** 现在主要有两个版本：
①阿里巴巴的开发手册中的定义，DO（ Data Object）这个等同于上面的PO
②DDD（Domain-Driven Design）领域驱动设计中，DO（Domain Object）这个等同于上面的BO

## PO-DTO-VO关系



```
DTO
{
 "gender":"男",
 "age":35
}

VO1
{
 "gender":"男",
 "age":35
}
VO2
{
 "gender":"男",
 "age":30~40
}
```

```
数据对象：xxxPO，xxx即为数据表名。(也可DO)
业务对象：xxxBO，xxx是业务名称。
数据传输对象：xxxDTO，xxx为业务领域相关的名称。
展示对象：xxxVO，xxx一般为网页名称。
```

## Entity和VO的注解

`@TableId`等mybatis-plus注解加在Entity上。



`@NotNull`等validation注解加在 VO 上，因为这是后端接收前端的入参。那些加在Entity上的，不过是VO的需求和Entity一样，故而复用。

`@JsonFormat`的时间类型也是在VO上，因为这是前后端的字符串和时间类的序列化反序列化问题。

`@ApiModelProperty`等swagger也是在VO上，因为这是入参和返回值。



## 简化

业务没有多端展示。VO=DTO，直接使用DTO或VO传输到前端数据即可。

​	甚至DTO展示的东西和PO差不多时，直接 使用PO 并且前传后时 insert sql 里 不注入 id 就行。



业务无暴露限制。BO=DTO，由BO或DTO来组合PO就行。