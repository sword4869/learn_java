
## 1. JVM

JVM（Java Virtual Machine），Java虚拟机，职责是运行Java字节码文件。

Java源代码执行流程如下：
1. 编写Java源代码文件。
2. Java编译器（javac命令）将源代码**编译**成Java字节码文件。
3. JVM实时地**解释**并运行Java字节码文件成机器码。

JVM功能：解释和运行、内存管理、即时编译JIT

## 2. JVM的组成
![alt text](../../images/image-88.png)

- 类加载子系统：核心组件类加载器，负责将字节码文件中的内容加载到内存中。
- 运行时数据区：JVM管理的内存，创建出来的对象、类的信息等等内容都会放在这块区域中。
- 执行引擎：包含了即时编译器、解释器、垃圾回收器，执行引擎使用解释器将字节码指令解释成机器码，使用即时编译器优化性能，使用垃圾回收器回收不再使用的对象。
- 本地接口：调用本地使用C/C++编译好的方法，本地方法在Java中声明时，都会带上native关键字，如下图所示。


## 3. 字节码文件的组成：
- 基础信息：魔数（文件头cafebabe）、主副版本号(JDK2后：主版本号 – 44)、访问标识(public final等等)、父类和接口信息
- 常量池： 保存了字符串常量、类或接口名、字段名，主要在字节码指令中使用
- 方法： 当前类或接口声明的方法信息，核心内容为方法的字节码指令
- 字段： 当前类或接口声明的字段信息
- 属性： 类的属性，比如源码的文件名、内部类的列表等

## 4. 工具

`jar -xvf xxx.jar` 解压jar包

`javap -v xxx.class` 通过控制台查看字节码文件的内容

jclasslib: exe 和idea插件
