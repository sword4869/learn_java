## mysql b+树和b树
B+树和B树都是常用的索引结构，用于在数据库中进行高效的数据检索。

它们的主要区别在于叶子节点的结构和使用方式。

B树（B-Tree）是一种平衡多路搜索树，它的特点是每个节点可以存储多个关键字和对应的数据指针。

B树的节点分为内部节点和叶子节点，内部节点存储关键字和指向子节点的指针，叶子节点存储关键字和对应的数据指针。

B树的特点是所有叶子节点都在同一层级上，通过内部节点的指针可以快速定位到叶子节点。

B树适用于磁盘存储等场景，可以减少磁盘I/O次数，提高检索效率。

B+树（B+ Tree）是在B树的基础上进行了改进，它的特点是所有关键字都存储在叶子节点上，而内部节点只存储关键字和指向子节点的指针。

叶子节点之间通过指针连接形成一个有序链表，可以支持范围查询和顺序遍历。

B+树的内部节点相对较小，可以存储更多的关键字，减少了树的高度，提高了检索效率。B+树常用于数据库索引的实现，可以支持高效的范围查询和排序操作。

总结来说，B树适用于磁盘存储等场景，可以减少磁盘I/O次数；而B+树适用于数据库索引等场景，可以支持范围查询和顺序遍历。两者都是常用的索引结构，根据具体的应用场景选择适合的索引结构可以提高数据库的性能。

## 联合索引底层存储结构(和其他种类的索引的存储结构有什么区别?)

联合索引是数据库中一种常见的索引类型，它允许在多个列上创建索引，以提高查询性能。与单列索引相比，联合索引的底层存储结构有一些区别，主要体现在如何组织和存储索引数据的方式上。

1.  **存储数据的组织方式**：
    
    -   单列索引：单列索引只包含一个列的值和指向相应数据行的指针。通常，单列索引按照列值的大小顺序来组织存储数据。
    -   联合索引：联合索引则包含多个列的值，以及指向相应数据行的指针。联合索引可以按照多个列值的组合来组织存储数据，这意味着可以根据多个列的值来定位数据行。
2.  **查询时的性能影响**：
    
    -   单列索引：单列索引适合用于只涉及单个列的查询。当查询条件涉及到索引列时，数据库可以更快地定位到匹配的数据行。
    -   联合索引：联合索引适合用于涉及多个列的查询。当查询涉及到联合索引中的多个列时，数据库可以利用索引中列值的组合来快速定位匹配的数据行。
3.  **索引维护的复杂性**：
    
    -   单列索引：单列索引的维护相对简单，因为它只需要维护单个列的值和指针。
    -   联合索引：联合索引的维护相对复杂一些，因为它需要考虑多个列值的组合。当表中的数据发生变化时，数据库需要确保联合索引中的多个列值的组合保持有序，这可能需要更多的资源和时间。

联合索引在适当的情况下可以提供更好的查询性能，特别是对于涉及到联合索引中列值的组合的查询。然而，需要注意的是，联合索引的创建和维护可能会带来一些额外的开销，并且需要根据具体的查询需求和数据模式来合理选择索引策略。

## 联合索引的叶子节点存的什么内容?

联合索引的叶子节点存储的是索引列的值以及指向对应数据行的指针（聚集索引键值）。在联合索引中，叶子节点包含了多个列的值，以及指向对应数据行的指针（者聚集索引键值）的组合。

具体来说，叶子节点中存储了索引列的实际值，以及一个指向相应数据行的指针（者聚集索引键值）。这样，当数据库引擎根据联合索引执行查询时，它可以通过索引中的列值找到对应的叶子节点，然后使用叶子节点中的指针（键值）来定位到相应的数据行。

联合索引的叶子节点存储了索引列的值和指向数据行的指针（键值）的组合，这样可以在查询时快速定位到匹配的数据行。