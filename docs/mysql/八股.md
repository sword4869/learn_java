## ACID

针对事务的特性：
- 原子性：事务中的所有操作，要么全部成功，要么全部失败。
- 一致性：数据库内部的**完整性**约束、声明性约束。转账，两用户总金额不变。
- 隔离性：一个用户的事务不被其他事务所干扰。
- 持久性：对数据库做的一切修改将永久保存，不管是否出现故障。事务提交了，数据库一定记录变化。

## 脏写、脏读、不可重复读、幻读

> 无论是脏写还是脏读，都是因为一个事务去更新或者查询了另外一个还没提交的事务更新过的数据

脏写：写了却没了

x=0，A先更新x+=1，B再更新并提交x+=1(不管是在A更新前读x=0，还是A更新后读x=1)，A回滚x为=0

脏写在mysql中不存在，在update时，InnoDB存在行锁，MyISAM有表级锁

脏读：读别人写的脏数据

x=0，A先更新x+=1，B再读取x=1，A回滚x为=0，B读取到x就成错误的了。

听到了别人画饼，信以为真，结果到时候饼成空。

幻读：事务A中看不到晚于事务A以后其他事务提交的数据，多出的数据实际也是看不到的，但是影响在于这些实际存在的数据会影响到事务A的增删逻辑，比如你插入一条和事务B一样的内容时，会报错重复数据，但是你在事务A中又看不到这些数据。